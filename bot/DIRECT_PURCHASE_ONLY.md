# –ü—Ä—è–º–∞—è –ø–æ–∫—É–ø–∫–∞ - Telegram Bot

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ë–æ—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä—è–º–æ–π –ø–æ–∫—É–ø–∫–∏**. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ—Ä–∑–∏–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω.

---

## ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. **–£–±—Ä–∞–Ω–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫**
- ‚ùå –£–¥–∞–ª–µ–Ω `cartHandler.ts`
- ‚ùå –£–±—Ä–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É
- ‚ùå –£–¥–∞–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ –ø–æ–∫—É–ø–∫–∏

### 2. **–£–ø—Ä–æ—â–µ–Ω –ø—Ä–æ—Ñ–∏–ª—å**
- –£–±—Ä–∞–Ω —Ä–∞–∑–¥–µ–ª "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∫—É–ø–æ–∫"
- –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ:
  - üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã
  - ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ

### 3. **–í—Å–µ–≥–¥–∞ –ø—Ä—è–º–∞—è –ø–æ–∫—É–ø–∫–∞**
- –ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Ç–æ–≤–∞—Ä–∞ —Å—Ä–∞–∑—É –≤–∏–¥–Ω—ã –∫–Ω–æ–ø–∫–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
- –í—ã–±—Ä–∞–ª –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª ‚Üí –ø–æ–ª—É—á–∏–ª —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
- –°—Ä–∞–∑—É —Ñ–æ—Ä–º–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ–∫–∞ –æ–ø–ª–∞—Ç—ã

---

## üí∞ –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–∫—É–ø–∫–∏

### –®–∞–≥ 1: –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞
```
üè™ –ú–∞–≥–∞–∑–∏–Ω—ã ‚Üí –í—ã–±–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞ ‚Üí –ö–∞—Ç–∞–ª–æ–≥ ‚Üí –¢–æ–≤–∞—Ä
```

### –®–∞–≥ 2: –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞:
```
[1 —à—Ç.] [2 —à—Ç.] [3 —à—Ç.] [4 —à—Ç.] [5 —à—Ç.]
```

–ï—Å–ª–∏ —Ç–æ–≤–∞—Ä–∞ –±–æ–ª—å—à–µ 5 —à—Ç—É–∫:
```
[üìù –£–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]
```

### –®–∞–≥ 3: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
```
üßæ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞

üè™ –ú–∞–≥–∞–∑–∏–Ω: –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
üõçÔ∏è –¢–æ–≤–∞—Ä: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: X —à—Ç.
üí∞ –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É: XXX ‚ÇΩ
üí≥ –ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: XXX ‚ÇΩ

‚ö° –ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∑–∞–∫–∞–∑ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –æ–ø–ª–∞—Ç–µ.

[‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑]
```

### –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤
–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–∫–∞–∑:

```
‚úÖ –ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω! #12345

üõçÔ∏è –¢–æ–≤–∞—Ä: –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: X —à—Ç.
üí≥ –°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ: XXX ‚ÇΩ
üè™ –ú–∞–≥–∞–∑–∏–Ω: –ù–∞–∑–≤–∞–Ω–∏–µ

üí∞ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–ø–ª–∞—Ç–µ:
üìù [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ—Ç –º–∞–≥–∞–∑–∏–Ω–∞]

üí≥ –†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã:
üí≥ –ö–∞—Ä—Ç–∞: XXXX XXXX XXXX XXXX
üè¶ –ë–∞–Ω–∫: –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞
üë§ –ü–æ–ª—É—á–∞—Ç–µ–ª—å: –§–ò–û
üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–µ—Ä–µ–≤–æ–¥—É: –ó–∞–∫–∞–∑ #12345

‚ö†Ô∏è –í–∞–∂–Ω–æ: –£–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ç–æ—á–Ω—É—é —Å—É–º–º—É –∫ –ø–µ—Ä–µ–≤–æ–¥—É!

üì± –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç —á–µ–∫–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

[üì± QR-–∫–æ–¥ –¥–ª—è –æ–ø–ª–∞—Ç—ã] [üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ–∫]
```

### –®–∞–≥ 5: –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ–∫–∞
```
[üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ–∫]
```

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ –∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å —á–µ–∫–æ–º –æ–ø–ª–∞—Ç—ã.

### –®–∞–≥ 6: –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–ø–ª–∞—Ç—É –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç/–æ—Ç–∫–ª–æ–Ω—è–µ—Ç –∑–∞–∫–∞–∑.

---

## üì± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ—Ç–∞

```
/start (–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é)
‚îú‚îÄ‚îÄ üè™ –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞–≥–∞–∑–∏–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ –í—ã–±–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ –¢–æ–≤–∞—Ä
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ [–í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞: 1-5 —à—Ç.]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ [üìù –£–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ]
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ [‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑]
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ –†–µ–∫–≤–∏–∑–∏—Ç—ã + [üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ–∫]
‚îÇ   ‚îî‚îÄ‚îÄ üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ
‚îú‚îÄ‚îÄ üë§ –ü—Ä–æ—Ñ–∏–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ + [üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ–∫]
‚îÇ   ‚îî‚îÄ‚îÄ ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ
‚îÇ       ‚îú‚îÄ‚îÄ Telegram ID
‚îÇ       ‚îú‚îÄ‚îÄ –†–æ–ª—å
‚îÇ       ‚îî‚îÄ‚îÄ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤
‚îÇ
‚îî‚îÄ‚îÄ ‚ùì –ü–æ–º–æ—â—å –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã
    ‚îú‚îÄ‚îÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ–∫—É–ø–∫–µ
    ‚îî‚îÄ‚îÄ –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä—è–º–æ–π –ø–æ–∫—É–ø–∫–∏

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –º–∏–Ω–∏–º—É–º —à–∞–≥–æ–≤ –¥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è  
‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å** - –≤—ã–±—Ä–∞–ª —Ç–æ–≤–∞—Ä –∏ —Å—Ä–∞–∑—É –æ–ø–ª–∞—á–∏–≤–∞–µ—à—å  
‚úÖ **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –∫–Ω–æ–ø–æ–∫ –∏ –º–µ–Ω—é  
‚úÖ **–ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫** - –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä = –æ–¥–∏–Ω –∑–∞–∫–∞–∑  

---

## üîÑ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –∑–∞–∫–∞–∑–æ–º

1. **PENDING_ADMIN** - –°–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã
2. **PAID** - –û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
3. **SHIPPED** - –ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
4. **DELIVERED** - –ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω

–ï—Å–ª–∏ –æ–ø–ª–∞—Ç–∞ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞:
- **REJECTED** - –û—Ç–∫–ª–æ–Ω–µ–Ω (–Ω–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞, —Ñ–µ–π–∫–æ–≤—ã–π —á–µ–∫ –∏ —Ç.–¥.)

---

## üìã –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

–ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç –≤—Å–µ –∑–∞–∫–∞–∑—ã —á–µ—Ä–µ–∑ `/admin` –∏ –º–æ–∂–µ—Ç:
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–ø–ª–∞—Ç—É (–ø–µ—Ä–µ–≤–æ–¥ –∑–∞–∫–∞–∑–∞ –≤ PAID)
- ‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å –æ–ø–ª–∞—Ç—É —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã
- üìä –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `bot/src/handlers/profileHandler.ts` - —É–±—Ä–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∫—É–ø–æ–∫
- `bot/src/handlers/productHandler.ts` - –≤—Å–µ–≥–¥–∞ –ø—Ä—è–º–∞—è –ø–æ–∫—É–ø–∫–∞
- `bot/src/handlers/index.ts` - —É–±—Ä–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
- `bot/src/handlers/startHandler.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ~~`bot/src/handlers/cartHandler.ts`~~ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### Session —Ç–∏–ø—ã:
```typescript
export interface UserSession {
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
  purchaseMode?: 'direct' | 'cart'; // –û—Å—Ç–∞–≤–ª–µ–Ω–æ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –Ω–æ –≤—Å–µ–≥–¥–∞ 'direct'
  cart?: any[]; // –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
}
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ:
1. **–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ** –ø–µ—Ä–µ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
2. **–¢–æ—á–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç–µ —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—É–º–º—É** - –∏–Ω–∞—á–µ –æ–ø–ª–∞—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞
3. **–î–µ–ª–∞–π—Ç–µ —á–µ—Ç–∫–∏–π —Å–∫—Ä–∏–Ω—à–æ—Ç —á–µ–∫–∞** - –≤–∏–¥–Ω—ã —Å—É–º–º–∞, –¥–∞—Ç–∞, –ø–æ–ª—É—á–∞—Ç–µ–ª—å
4. **–£–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–µ—Ä–µ–≤–æ–¥—É** –µ—Å–ª–∏ –æ–Ω —É–∫–∞–∑–∞–Ω –≤ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞—Ö

### –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã" –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
- –ï—Å–ª–∏ –æ–ø–ª–∞—Ç–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ - —á–∏—Ç–∞–π—Ç–µ –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
- –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É —á–µ—Ä–µ–∑ "‚ùì –ü–æ–º–æ—â—å –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã"

---

*–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2025-10-01*  
*–í–µ—Ä—Å–∏—è –±–æ—Ç–∞: 1.2.0 (Direct Purchase Only)*

