# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 409 Conflict

## –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞ `409 Conflict: terminated by other getUpdates request` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–∞–ø—É—â–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ
–ï—Å–ª–∏ —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω webhook –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ, –Ω—É–∂–Ω–æ –µ–≥–æ —É–¥–∞–ª–∏—Ç—å:

```bash
# –ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à BOT_TOKEN –∏–∑ bot/.env
BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"

# –£–¥–∞–ª–∏—Ç–µ webhook
curl "https://api.telegram.org/bot${BOT_TOKEN}/deleteWebhook"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ webhook —É–¥–∞–ª–µ–Ω
curl "https://api.telegram.org/bot${BOT_TOKEN}/getWebhookInfo"
```

### 2. –ù–µ—Å–∫–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã node:

**Windows PowerShell:**
```powershell
Get-Process node -ErrorAction SilentlyContinue | Stop-Process -Force
```

**Linux/Mac:**
```bash
pkill -9 node
```

### 3. Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
–ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤ Docker:

```bash
docker ps | grep bot
docker stop <container_id>
```

## –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (polling):

```bash
cd bot
npm run build
npm start
```

### Production (webhook):
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ:
```
USE_WEBHOOK=true
WEBHOOK_URL=https://your-domain.com/webhook
```

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ callback_data –¥–ª—è `store_products` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `showStoreProducts` –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `page`
‚úÖ –£–ª—É—á—à–µ–Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å —É—á–µ—Ç–æ–º –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è CMS —Ç–æ–≤–∞—Ä–æ–≤
‚úÖ –ö–Ω–æ–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ "üè™ –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞–≥–∞–∑–∏–Ω–æ–≤"
3. –í—ã–±–µ—Ä–∏—Ç–µ –º–∞–≥–∞–∑–∏–Ω
4. –ù–∞–∂–º–∏—Ç–µ "üõçÔ∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã"
5. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –≤–∏–¥–∞ "üõí –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞"

