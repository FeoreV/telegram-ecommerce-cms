# =============================================================================
# BACKEND ENVIRONMENT CONFIGURATION
# =============================================================================
# Сгенерирован для сервера 82.147.84.78 с SQLite
# =============================================================================

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
PORT=3001
BACKEND_PORT=3001

# =============================================================================
# DATABASE CONFIGURATION (SQLite)
# =============================================================================
DATABASE_PROVIDER=sqlite
DATABASE_URL=file:./prisma/dev.db

# Connection Settings
DATABASE_MAX_CONNECTIONS=10
DATABASE_TIMEOUT=5000

# =============================================================================
# URLS CONFIGURATION
# =============================================================================
API_URL=http://82.147.84.78:3001
FRONTEND_URL=http://82.147.84.78:3000
WEBHOOK_BASE_URL=http://82.147.84.78

# =============================================================================
# SECURITY - JWT CONFIGURATION
# =============================================================================
JWT_SECRET=JTtYVWvqnwubbg0TiSXLdpMX9mnQGM+aYsunnRGAg6PlRM6K6EyQ5qfy5x545oChOv16Y76ePkMsxDTao5W/kg==
JWT_REFRESH_SECRET=oAG7b2qaHQvFfpWftBaubwOvTmBboHKglBMJdM3dTv3fphpDLviq+62ep/Uf0sl4JHYoI1CPbseHGqYQKrb+oQ==
JWT_ACCESS_TOKEN_EXPIRES_IN=15m
JWT_REFRESH_TOKEN_EXPIRES_IN=7d
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
JWT_AUDIENCE=telegram-ecommerce-cms

# =============================================================================
# SESSION & COOKIE SECURITY
# =============================================================================
SESSION_SECRET=OTCmG7kUpSKAmvEsa1+CKPJpzgCrBx2qV7yehueABmo=
COOKIE_SECRET=a+drvIHa7oExYrdvSE8NUCLjUhEipl9BtzZZVk4GpOU=

# =============================================================================
# ADMINJS CONFIGURATION
# =============================================================================
ENABLE_ADMINJS=false
ADMIN_DEFAULT_PASSWORD=ChangeMe123!
ADMIN_COOKIE_SECRET=a+drvIHa7oExYrdvSE8NUCLjUhEipl9BtzZZVk4GpOU=
ADMIN_SESSION_SECRET=OTCmG7kUpSKAmvEsa1+CKPJpzgCrBx2qV7yehueABmo=

# =============================================================================
# ENCRYPTION CONFIGURATION
# =============================================================================
ENCRYPTION_MASTER_KEY=master-encryption-key-32-characters-minimum-change-me-prod
ENCRYPTION_DATA_KEY=data-encryption-key-32-characters-minimum-change-me-prod

# Encryption Key IDs
SECURITY_LOGS_KEY_ID=security_logs_key_2025
SBOM_SIGNING_KEY_ID=sbom_signing_key_2025
COMMUNICATION_KEY_ID=communication_key_2025
WEBSOCKET_KEY_ID=websocket_key_2025
BACKUP_KEY_ID=backup_key_2025
STORAGE_KEY_ID=storage_key_2025
LOG_KEY_ID=log_key_2025

# Algorithm specifications
HASH_ALGORITHM=sha256
ENCRYPTION_ALGORITHM=aes-256-gcm

# =============================================================================
# TELEGRAM BOT CONFIGURATION
# =============================================================================
# ⚠️ ВАЖНО: Замените на ваш реальный токен от @BotFather
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_FROM_BOTFATHER

# Webhook Configuration
WEBHOOK_PATH=/webhook/telegram
WEBHOOK_SECRET=5e85fc5d15a9ffe489774ba642d630dfd94fba0b92db2f0f9477c1f300c65310
WEBHOOK_ADMIN_TOKEN=cf3c43726c2935ef3fa13bce963818a27fd9c6e81774462632e9833cf88f8808
WEBHOOK_PORT=8443
BOT_WEBHOOK_PORT=8443

# Bot Security
RATE_LIMIT_MAX_REQUESTS=30
RATE_LIMIT_WINDOW_MS=60000
SPAM_MAX_MESSAGES_PER_MINUTE=10
SPAM_SUSPICION_THRESHOLD=50
SPAM_BAN_DURATION=3600000

# Super Admin
SUPER_ADMIN_TELEGRAM_ID=123456789

# =============================================================================
# REDIS CONFIGURATION (опционально)
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_MAX_RETRIES=3
REDIS_TTL=3600

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_WHITELIST=http://82.147.84.78:3000,http://localhost:3000,http://localhost:5173
CORS_ORIGIN=http://82.147.84.78:3000
CORS_CREDENTIALS=true

# =============================================================================
# CSRF PROTECTION
# =============================================================================
ENABLE_CSRF_PROTECTION=true
CSRF_COOKIE_NAME=_csrf
CSRF_HEADER_NAME=X-CSRF-Token

# =============================================================================
# API SECURITY
# =============================================================================
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX=100
API_RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FILE=./logs/combined.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD
ENABLE_JSON_LOGS=true
LOG_REQUESTS=true
LOG_ERRORS=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_WEBHOOK_MODE=true
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_SECURITY=true
ENABLE_METRICS=true
ENABLE_HEALTH_CHECKS=true

# =============================================================================
# MONITORING
# =============================================================================
PROMETHEUS_PORT=9090
METRICS_ENDPOINT=/metrics
HEALTH_CHECK_INTERVAL=30000

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DESTINATION=./backups

# =============================================================================
# CMS CONFIGURATION (опционально)
# =============================================================================
CMS_BASE_URL=http://localhost:9000
MEDUSA_JWT_SECRET=medusa-jwt-secret-change-in-production-32-characters-min
MEDUSA_COOKIE_SECRET=medusa-cookie-secret-change-in-production-32chars-min
MEDUSA_WEBHOOK_TOKEN=medusa-webhook-token-change-in-production

# =============================================================================
# EMAIL CONFIGURATION (опционально)
# =============================================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@telegram-ecommerce.com
