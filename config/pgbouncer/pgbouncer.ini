[databases]
telegram_ecommerce = host=postgres port=5432 dbname=telegram_ecommerce

[pgbouncer]
; Connection pooling settings
pool_mode = transaction
max_client_conn = 200
default_pool_size = 25
min_pool_size = 5
reserve_pool_size = 10

; Server connection settings
server_reset_query = DISCARD ALL
server_check_delay = 30
max_db_connections = 50

; Authentication
auth_type = plain
auth_file = /etc/pgbouncer/userlist.txt

; Logging
log_connections = 1
log_disconnections = 1
log_pooler_errors = 1
log_stats = 1

; Network settings
listen_addr = 0.0.0.0
listen_port = 6432
unix_socket_dir = /tmp

; Timeouts
server_idle_timeout = 600
server_connect_timeout = 15
client_idle_timeout = 0
client_login_timeout = 60
query_timeout = 0
query_wait_timeout = 120

; Performance tuning
ignore_startup_parameters = extra_float_digits

; Stats
stats_period = 60

; Admin interface
admin_users = admin
stats_users = stats, admin
